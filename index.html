<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generator RPP Profesional</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom scrollbar for textareas for better aesthetics */
        textarea::-webkit-scrollbar {
            width: 8px;
        }
        textarea::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        textarea::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }
        textarea::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        /* Ensure Inter font is used */
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-100 to-indigo-200 p-4">

    <div class="max-w-6xl mx-auto bg-white p-8 rounded-xl shadow-2xl space-y-8">
        <h1 class="text-4xl font-extrabold text-center text-indigo-800 mb-8">
            🚀 Generator RPP Profesional 🚀
        </h1>

        <!-- Input Form Container -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">

            <!-- Section: I. Identitas RPP dan Informasi Umum -->
            <div class="col-span-full bg-blue-50 p-6 rounded-lg shadow-inner">
                <h2 class="text-2xl font-bold text-blue-700 mb-4">I. Identitas RPP dan Informasi Umum</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="mb-4">
                        <label for="namaSekolah" class="block text-gray-700 text-sm font-semibold mb-2">Nama Sekolah</label>
                        <input type="text" id="namaSekolah" name="namaSekolah" placeholder="SMP Negeri 1 Jaya Raya" class="shadow-sm appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200">
                    </div>
                    <div class="mb-4">
                        <label for="mataPelajaran" class="block text-gray-700 text-sm font-semibold mb-2">Mata Pelajaran</label>
                        <input type="text" id="mataPelajaran" name="mataPelajaran" placeholder="Bahasa Indonesia" class="shadow-sm appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200">
                    </div>
                    <div class="mb-4">
                        <label for="kelasSemester" class="block text-gray-700 text-sm font-semibold mb-2">Kelas / Semester</label>
                        <input type="text" id="kelasSemester" name="kelasSemester" placeholder="VIII / Genap" class="shadow-sm appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200">
                    </div>
                    <div class="mb-4">
                        <label for="materiPokok" class="block text-gray-700 text-sm font-semibold mb-2">Materi Pokok</label>
                        <input type="text" id="materiPokok" name="materiPokok" placeholder="Teks Persuasi" class="shadow-sm appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200">
                    </div>
                    <div class="mb-4">
                        <label for="alokasiWaktu" class="block text-gray-700 text-sm font-semibold mb-2">Alokasi Waktu</label>
                        <input type="text" id="alokasiWaktu" name="alokasiWaktu" placeholder="3 x 45 menit (3 JP)" class="shadow-sm appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200">
                    </div>
                    <div class="mb-4">
                        <label for="namaGuru" class="block text-gray-700 text-sm font-semibold mb-2">Nama Guru</label>
                        <input type="text" id="namaGuru" name="namaGuru" placeholder="Nama Lengkap Guru Anda, S.Pd." class="shadow-sm appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200">
                    </div>
                    <div class="mb-4">
                        <label for="nipGuru" class="block text-gray-700 text-sm font-semibold mb-2">NIP Guru</label>
                        <input type="text" id="nipGuru" name="nipGuru" placeholder="198501012010011002" class="shadow-sm appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200">
                    </div>
                    <div class="mb-4">
                        <label for="tahunPelajaran" class="block text-gray-700 text-sm font-semibold mb-2">Tahun Pelajaran</label>
                        <input type="text" id="tahunPelajaran" name="tahunPelajaran" placeholder="2024/2025" class="shadow-sm appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200">
                    </div>
                </div>
            </div>

            <!-- Section: II. Tujuan Pembelajaran -->
            <div class="col-span-full bg-green-50 p-6 rounded-lg shadow-inner">
                <h2 class="text-2xl font-bold text-green-700 mb-4">II. Tujuan Pembelajaran</h2>
                <div class="mb-4">
                    <label for="tujuanPembelajaran" class="block text-gray-700 text-sm font-semibold mb-2">Tuliskan tujuan pembelajaran Anda, pisahkan dengan baris baru.</label>
                    <textarea id="tujuanPembelajaran" name="tujuanPembelajaran" rows="6" placeholder="* Setelah mengikuti proses pembelajaran, peserta didik diharapkan mampu:&#10;    * Menganalisis struktur teks persuasi dengan tepat.&#10;    * Menyajikan teks persuasi secara lisan dengan percaya diri.&#10;    * Menunjukkan sikap kolaboratif dalam kerja kelompok." class="shadow-sm appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200 resize-y"></textarea>
                </div>
            </div>

            <!-- Section: III. Kompetensi Inti (KI) dan Kompetensi Dasar (KD) -->
            <div class="col-span-full bg-yellow-50 p-6 rounded-lg shadow-inner">
                <h2 class="text-2xl font-bold text-yellow-700 mb-4">III. Kompetensi Inti (KI) dan Kompetensi Dasar (KD)</h2>
                <div class="mb-4">
                    <label for="kompetensiInti" class="block text-gray-700 text-sm font-semibold mb-2">Kompetensi Inti (KI) - Sudah terisi default, bisa diedit.</label>
                    <textarea id="kompetensiInti" name="kompetensiInti" rows="8" class="shadow-sm appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200 resize-y"></textarea>
                </div>
                <div class="mb-4">
                    <label for="kompetensiDasar" class="block text-gray-700 text-sm font-semibold mb-2">Kompetensi Dasar (KD)</label>
                    <textarea id="kompetensiDasar" name="kompetensiDasar" rows="3" placeholder="* 3.4 Menganalisis latar belakang kedatangan bangsa-bangsa Barat ke Indonesia.&#10;* 4.4 Menyajikan hasil analisis latar belakang dan jalur kedatangan bangsa-bangsa Barat ke Indonesia." class="shadow-sm appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200 resize-y"></textarea>
                </div>
            </div>

            <!-- Section: IV. Indikator Pencapaian Kompetensi (IPK) -->
            <div class="col-span-full bg-purple-50 p-6 rounded-lg shadow-inner">
                <h2 class="text-2xl font-bold text-purple-700 mb-4">IV. Indikator Pencapaian Kompetensi (IPK)</h2>
                <div class="mb-4">
                    <label for="indikatorPencapaian" class="block text-gray-700 text-sm font-semibold mb-2">Indikator Pencapaian Kompetensi</label>
                    <textarea id="indikatorPencapaian" name="indikatorPencapaian" rows="5" placeholder="* Indikator Pengetahuan (dari KD 3.X):&#10;    * 3.X.1 Mengidentifikasi motivasi 3G.&#10;* Indikator Keterampilan (dari KD 4.X):&#10;    * 4.X.1 Membuat peta jalur pelayaran." class="shadow-sm appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200 resize-y"></textarea>
                </div>
            </div>

            <!-- Section: V. Materi Pembelajaran -->
            <div class="col-span-full bg-orange-50 p-6 rounded-lg shadow-inner">
                <h2 class="text-2xl font-bold text-orange-700 mb-4">V. Materi Pembelajaran</h2>
                <div class="mb-4">
                    <label for="materiPembelajaran" class="block text-gray-700 text-sm font-semibold mb-2">Materi Pembelajaran</label>
                    <textarea id="materiPembelajaran" name="materiPembelajaran" rows="6" placeholder="* Latar Belakang Kedatangan Bangsa Eropa:&#10;    * Faktor Pendorong (3G: Gold, Glory, Gospel).&#10;    * Perkembangan Ilmu Pengetahuan dan Teknologi.&#10;* Jalur Kedatangan Bangsa Eropa:&#10;    * Jalur pelayaran bangsa Portugis, Spanyol, Belanda, dan Inggris." class="shadow-sm appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200 resize-y"></textarea>
                </div>
            </div>

            <!-- Section: VI. Metode Pembelajaran -->
            <div class="col-span-full bg-teal-50 p-6 rounded-lg shadow-inner">
                <h2 class="text-2xl font-bold text-teal-700 mb-4">VI. Metode Pembelajaran</h2>
                <div class="mb-4">
                    <label for="metodePembelajaran" class="block text-gray-700 text-sm font-semibold mb-2">Metode Pembelajaran (Pendekatan, Model, Metode, Media, Alat/Bahan)</label>
                    <textarea id="metodePembelajaran" name="metodePembelajaran" rows="6" placeholder="* Pendekatan: Saintifik&#10;* Model Pembelajaran: Discovery Learning&#10;* Metode: Diskusi kelompok, tanya jawab, penugasan.&#10;* Media: Peta dunia, video singkat, Power Point.&#10;* Alat/Bahan: Laptop, proyektor, LKPD." class="shadow-sm appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200 resize-y"></textarea>
                </div>
            </div>

            <!-- Section: VII. Kegiatan Pembelajaran -->
            <div class="col-span-full bg-cyan-50 p-6 rounded-lg shadow-inner">
                <h2 class="text-2xl font-bold text-cyan-700 mb-4">VII. Kegiatan Pembelajaran</h2>
                <div class="mb-4">
                    <label for="kegiatanPendahuluan" class="block text-gray-700 text-sm font-semibold mb-2">A. Pendahuluan</label>
                    <textarea id="kegiatanPendahuluan" name="kegiatanPendahuluan" rows="6" placeholder="1. Guru mengucapkan salam, berdoa, dan mengecek kehadiran.&#10;2. Apersepsi: Guru menampilkan gambar rempah-rempah.&#10;3. Motivasi: Guru menyampaikan manfaat belajar.&#10;4. Guru menyampaikan tujuan pembelajaran." class="shadow-sm appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200 resize-y"></textarea>
                </div>
                <div class="mb-4">
                    <label for="kegiatanInti" class="block text-gray-700 text-sm font-semibold mb-2">B. Kegiatan Inti</label>
                    <textarea id="kegiatanInti" name="kegiatanInti" rows="10" placeholder="* Fase 1: Pemberian Rangsangan (Stimulation)&#10;    1.  Guru menayangkan video/infografis.&#10;    2.  Peserta didik mengamati dan merumuskan pertanyaan.&#10;* Fase 2: Pernyataan/Identifikasi Masalah (Problem Statement)&#10;    1.  Peserta didik merumuskan pertanyaan.&#10;* [Lanjutkan fase-fase model pembelajaran Anda...]" class="shadow-sm appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200 resize-y"></textarea>
                </div>
                <div class="mb-4">
                    <label for="kegiatanPenutup" class="block text-gray-700 text-sm font-semibold mb-2">C. Penutup</label>
                    <textarea id="kegiatanPenutup" name="kegiatanPenutup" rows="6" placeholder="1. Guru dan peserta didik refleksi.&#10;2. Guru memberikan umpan balik.&#10;3. Guru memberikan penugasan.&#10;4. Guru menutup pembelajaran dengan doa dan salam." class="shadow-sm appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200 resize-y"></textarea>
                </div>
            </div>

            <!-- Section: VIII. Penilaian Pembelajaran -->
            <div class="col-span-full bg-pink-50 p-6 rounded-lg shadow-inner">
                <h2 class="text-2xl font-bold text-pink-700 mb-4">VIII. Penilaian Pembelajaran</h2>
                <div class="mb-4">
                    <label for="penilaianPembelajaran" class="block text-gray-700 text-sm font-semibold mb-2">Penilaian Pembelajaran</label>
                    <textarea id="penilaianPembelajaran" name="penilaianPembelajaran" rows="6" placeholder="* 1. Penilaian Sikap: Observasi, Lembar Observasi.&#10;* 2. Penilaian Pengetahuan: Tes Tertulis, Soal Uraian/PG.&#10;* 3. Penilaian Keterampilan: Produk (Peta), Rubrik Penilaian Peta." class="shadow-sm appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200 resize-y"></textarea>
                </div>
            </div>

            <!-- Section: IX. Remedial dan Pengayaan -->
            <div class="col-span-full bg-lime-50 p-6 rounded-lg shadow-inner">
                <h2 class="text-2xl font-bold text-lime-700 mb-4">IX. Remedial dan Pengayaan</h2>
                <div class="mb-4">
                    <label for="remedialPengayaan" class="block text-gray-700 text-sm font-semibold mb-2">Remedial dan Pengayaan</label>
                    <textarea id="remedialPengayaan" name="remedialPengayaan" rows="5" placeholder="* Remedial: Bimbingan individual/kelompok, tugas tambahan.&#10;* Pengayaan: Studi kasus, proyek mandiri." class="shadow-sm appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200 resize-y"></textarea>
                </div>
            </div>

            <!-- Section: X. Sumber Belajar -->
            <div class="col-span-full bg-indigo-50 p-6 rounded-lg shadow-inner">
                <h2 class="text-2xl font-bold text-indigo-700 mb-4">X. Sumber Belajar</h2>
                <div class="mb-4">
                    <label for="sumberBelajar" class="block text-gray-700 text-sm font-semibold mb-2">Sumber Belajar</label>
                    <textarea id="sumberBelajar" name="sumberBelajar" rows="5" placeholder="* Buku Teks: Kemendikbud. (2017). Buku Siswa [Mata Pelajaran] Kelas [Kelas].&#10;* Internet: https://www.youtube.com/...&#10;* Lingkungan sekitar." class="shadow-sm appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200 resize-y"></textarea>
                </div>
            </div>

            <!-- Section: XI. Lampiran -->
            <div class="col-span-full bg-fuchsia-50 p-6 rounded-lg shadow-inner">
                <h2 class="text-2xl font-bold text-fuchsia-700 mb-4">XI. Lampiran</h2>
                <div class="mb-4">
                    <label for="lampiran" class="block text-gray-700 text-sm font-semibold mb-2">Lampiran</label>
                    <textarea id="lampiran" name="lampiran" rows="4" placeholder="* 1. Materi Ajar&#10;* 2. Lembar Kerja Peserta Didik (LKPD)&#10;* 3. Instrumen Penilaian" class="shadow-sm appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200 resize-y"></textarea>
                </div>
            </div>

            <!-- Section: XII. Pengesahan -->
            <div class="col-span-full bg-gray-100 p-6 rounded-lg shadow-inner">
                <h2 class="text-2xl font-bold text-gray-700 mb-4">XII. Pengesahan</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="mb-4">
                        <label for="kotaTanggal" class="block text-gray-700 text-sm font-semibold mb-2">Kota, Tanggal RPP Dibuat</label>
                        <input type="text" id="kotaTanggal" name="kotaTanggal" placeholder="Jakarta, 14 Juni 2025" class="shadow-sm appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200">
                    </div>
                    <div class="mb-4">
                        <label for="namaKepalaSekolah" class="block text-gray-700 text-sm font-semibold mb-2">Nama Lengkap Kepala Sekolah</label>
                        <input type="text" id="namaKepalaSekolah" name="namaKepalaSekolah" placeholder="Nama Lengkap Kepala Sekolah Anda, M.Pd." class="shadow-sm appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200">
                    </div>
                    <div class="mb-4">
                        <label for="nipKepalaSekolah" class="block text-gray-700 text-sm font-semibold mb-2">NIP Kepala Sekolah</label>
                        <input type="text" id="nipKepalaSekolah" name="nipKepalaSekolah" placeholder="197005102000031001" class="shadow-sm appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200">
                    </div>
                </div>
            </div>
        </div>

        <!-- Generate Button -->
        <button id="generateRppBtn" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 px-6 rounded-lg shadow-lg transform transition-transform duration-200 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-indigo-500 focus:ring-opacity-50 text-xl">
            📝 GENERATE RPP SEKARANG!
        </button>

        <!-- Generated RPP Output -->
        <div id="rppOutputSection" class="mt-8 bg-gray-50 p-6 rounded-xl shadow-inner border border-gray-200 hidden">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Hasil RPP Anda (Format Markdown)</h2>
            <textarea id="generatedRpp" class="w-full h-96 p-4 border border-gray-300 rounded-lg bg-white text-gray-900 font-mono text-sm leading-relaxed overflow-auto resize-y focus:outline-none focus:ring-2 focus:ring-blue-500" readonly></textarea>
            <button id="copyRppBtn" class="mt-4 w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg shadow transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-400">
                Salin RPP
            </button>
            <p class="text-sm text-gray-600 mt-2 text-center">
                Anda dapat menyalin teks di atas dan menempelkannya ke editor teks (seperti Microsoft Word atau Google Docs) untuk diformat lebih lanjut.
            </p>
        </div>
    </div>

    <script>
        // Object to store all RPP data inputs
        const rppData = {
            namaSekolah: '',
            mataPelajaran: '',
            kelasSemester: '',
            materiPokok: '',
            alokasiWaktu: '',
            namaGuru: '',
            nipGuru: '',
            tahunPelajaran: '',
            tujuanPembelajaran: '',
            kompetensiInti: '',
            kompetensiDasar: '',
            indikatorPencapaian: '',
            materiPembelajaran: '',
            metodePembelajaran: '',
            kegiatanPendahuluan: '',
            kegiatanInti: '',
            kegiatanPenutup: '',
            penilaianPembelajaran: '',
            remedialPengayaan: '',
            sumberBelajar: '',
            lampiran: '',
            namaKepalaSekolah: '',
            nipKepalaSekolah: '',
            kotaTanggal: '',
        };

        // Get references to DOM elements
        const inputFields = document.querySelectorAll('input[type="text"], textarea');
        const generateRppBtn = document.getElementById('generateRppBtn');
        const generatedRppTextArea = document.getElementById('generatedRpp');
        const copyRppBtn = document.getElementById('copyRppBtn');
        const rppOutputSection = document.getElementById('rppOutputSection');

        /**
         * Function to format the current date in Indonesian (e.g., "14 Juni 2025").
         * @returns {string} Formatted date string.
         */
        const getCurrentDateFormatted = () => {
            const today = new Date();
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            return today.toLocaleDateString('id-ID', options);
        };

        /**
         * Populates default values for KI and the current date on load.
         */
        const populateDefaultValues = () => {
            // Set default Kompetensi Inti text
            document.getElementById('kompetensiInti').value = `* KI-1: Menghargai dan menghayati ajaran agama yang dianutnya.
* KI-2: Menunjukkan perilaku jujur, disiplin, tanggung jawab, peduli (toleransi, gotong royong), santun, percaya diri dalam berinteraksi secara efektif dengan lingkungan sosial dan alam dalam jangkauan pergaulan dan keberadaannya.
* KI-3: Memahami dan menerapkan pengetahuan (faktual, konseptual, prosedural) berdasarkan rasa ingin tahunya tentang ilmu pengetahuan, teknologi, seni, budaya terkait fenomena dan kejadian tampak mata.
* KI-4: Mengolah, menyaji, dan menalar dalam ranah konkret (menggunakan, mengurai, merangkai, memodifikasi, dan membuat) dan ranah abstrak (menulis, membaca, menghitung, menggambar, dan mengarang) sesuai dengan yang dipelajari di sekolah dan sumber lain yang sama dalam sudut pandang/teori.`;

            // Set default current date for Pengesahan
            const kotaTanggalInput = document.getElementById('kotaTanggal');
            kotaTanggalInput.value = `[Kota/Kabupaten Anda], ${getCurrentDateFormatted()}`;

            // Initialize rppData with default values
            inputFields.forEach(input => {
                rppData[input.name] = input.value;
            });
        };

        /**
         * Updates the rppData object when an input field changes.
         * @param {Event} event - The input change event.
         */
        const handleInputChange = (event) => {
            const { name, value } = event.target;
            rppData[name] = value;
        };

        /**
         * Calculates estimated time for RPP sections based on total alokasi waktu.
         * @param {string} alokasiWaktuString - The alokasi waktu string (e.g., "3 x 45 menit (3 JP)").
         * @param {number} percentage - Percentage for the section (e.g., 0.15 for 15%).
         * @returns {string} Estimated time string or placeholder.
         */
        const getEstimatedTime = (alokasiWaktuString, percentage) => {
            const match = alokasiWaktuString.match(/(\d+)\s*x\s*(\d+)/);
            if (match) {
                const numPeriods = parseInt(match[1]);
                const minutesPerPeriod = parseInt(match[2]);
                const totalMinutes = numPeriods * minutesPerPeriod;
                return `${(totalMinutes * percentage).toFixed(0)} menit`;
            }
            return '[Estimasi Menit]';
        };

        /**
         * Generates the RPP content in Markdown format based on current rppData.
         * @returns {string} The generated RPP Markdown string.
         */
        const generateRppMarkdown = () => {
            const {
                namaSekolah, mataPelajaran, kelasSemester, materiPokok, alokasiWaktu,
                namaGuru, nipGuru, tahunPelajaran, tujuanPembelajaran, kompetensiInti,
                kompetensiDasar, indikatorPencapaian, materiPembelajaran, metodePembelajaran,
                kegiatanPendahuluan, kegiatanInti, kegiatanPenutup, penilaianPembelajaran,
                remedialPengayaan, sumberBelajar, lampiran, namaKepalaSekolah,
                nipKepalaSekolah, kotaTanggal
            } = rppData;

            // Calculate estimated times for sections
            const estimatedPendahuluanTime = getEstimatedTime(alokasiWaktu, 0.15);
            const estimatedIntiTime = getEstimatedTime(alokasiWaktu, 0.70);
            const estimatedPenutupTime = getEstimatedTime(alokasiWaktu, 0.15);

            // Construct the RPP Markdown string using template literals
            const rppContent = `
# RENCANA PELAKSANAAN PEMBELAJARAN (RPP)

---

### I. IDENTITAS RPP DAN INFORMASI UMUM

| Komponen           | Keterangan                                              |
| :----------------- | :------------------------------------------------------ |
| **Nama Sekolah** | **${namaSekolah || '[Nama Lengkap Sekolah Anda]'}** |
| **Mata Pelajaran** | **${mataPelajaran || '[Nama Mata Pelajaran]'}** |
| **Kelas / Semester**| **${kelasSemester || '[Kelas / Semester]'}** |
| **Materi Pokok** | **${materiPokok || '[Topik Utama]'}** |
| **Alokasi Waktu** | **${alokasiWaktu || '[Durasi Waktu]'}** |
| **Nama Guru** | **${namaGuru || '[Nama Lengkap Guru Anda, S.Pd.]'}** |
| **NIP Guru** | **${nipGuru || '[NIP Guru Anda, jika ada]'}** |
| **Tahun Pelajaran**| **${tahunPelajaran || '[Tahun Ajaran]'}** |

---

### II. TUJUAN PEMBELAJARAN

${tujuanPembelajaran || `* Setelah mengikuti proses pembelajaran, peserta didik diharapkan mampu:
    * [Isi Tujuan Pembelajaran 1]
    * [Isi Tujuan Pembelajaran 2]
    * [Isi Tujuan Pembelajaran 3]`
}

---

### III. KOMPETENSI INTI (KI) dan KOMPETENSI DASAR (KD)

* **Kompetensi Inti (KI):**
${kompetensiInti || `    * KI-1: Menghargai dan menghayati ajaran agama yang dianutnya.
    * KI-2: Menunjukkan perilaku jujur, disiplin, tanggung jawab, peduli (toleransi, gotong royong), santun, percaya diri dalam berinteraksi secara efektif dengan lingkungan sosial dan alam dalam jangkauan pergaulan dan keberadaannya.
    * KI-3: Memahami dan menerapkan pengetahuan (faktual, konseptual, prosedural) berdasarkan rasa ingin tahunya tentang ilmu pengetahuan, teknologi, seni, budaya terkait fenomena dan kejadian tampak mata.
    * KI-4: Mengolah, menyaji, dan menalar dalam ranah konkret (menggunakan, mengurai, merangkai, memodifikasi, dan membuat) dan ranah abstrak (menulis, membaca, menghitung, menggambar, dan mengarang) sesuai dengan yang dipelajari di sekolah dan sumber lain yang sama dalam sudut pandang/teori.`
}

* **Kompetensi Dasar (KD):**
${kompetensiDasar || `    * [Kode KD 3.X] [Bunyi KD Pengetahuan]
    * [Kode KD 4.X] [Bunyi KD Keterampilan]`}

---

### IV. INDIKATOR PENCAPAIAN KOMPETENSI (IPK)

${indikatorPencapaian || `* **Indikator Pengetahuan (dari KD 3.X):**
    * [Kode IPK 3.X.1] [Indikator Spesifik]
    * [Kode IPK 3.X.2] [Indikator Spesifik]
* **Indikator Keterampilan (dari KD 4.X):**
    * [Kode IPK 4.X.1] [Indikator Spesifik]
    * [Kode IPK 4.X.2] [Indikator Spesifik]`}

---

### V. MATERI PEMBELAJARAN

${materiPembelajaran || `* [Topik 1]
    * Sub-topik 1.1
    * Sub-topik 1.2
* [Topik 2]
    * Sub-topik 2.1
    * Sub-topik 2.2`}

---

### VI. METODE PEMBELAJARAN

${metodePembelajaran || `* **Pendekatan:** [Isi, contoh: Saintifik, Kontekstual]
* **Model Pembelajaran:** [Isi, contoh: Problem-Based Learning, Discovery Learning]
* **Metode:** [Isi, contoh: Diskusi kelompok, tanya jawab, penugasan]
* **Media:** [Isi, contoh: Video, Power Point, Gambar]
* **Alat/Bahan:** [Isi, contoh: Laptop, Proyektor, LKPD]`}

---

### VII. KEGIATAN PEMBELAJARAN

* **A. Pendahuluan (${estimatedPendahuluanTime})**
${kegiatanPendahuluan || `    1.  Guru mengucapkan salam, berdoa, dan mengecek kehadiran.
    2.  Apersepsi: [Kegiatan mengaitkan materi sebelumnya/pengalaman siswa].
    3.  Motivasi: [Kegiatan memotivasi siswa].
    4.  Guru menyampaikan tujuan pembelajaran dan garis besar kegiatan.`}

* **B. Kegiatan Inti (${estimatedIntiTime})**
${kegiatanInti || `    * **Fase Model Pembelajaran (sesuai Model yang dipilih):**
        1.  [Langkah 1: Deskripsi kegiatan guru dan siswa]
        2.  [Langkah 2: Deskripsi kegiatan guru dan siswa]
        3.  [Langkah seterusnya...]`}

* **C. Penutup (${estimatedPenutupTime})**
${kegiatanPenutup || `    1.  Guru dan peserta didik melakukan refleksi atas pembelajaran.
    2.  Guru memberikan umpan balik dan penguatan.
    3.  Guru memberikan penugasan (jika ada).
    4.  Guru menyampaikan materi untuk pertemuan berikutnya.
    5.  Guru menutup pembelajaran dengan doa dan salam.`}

---

### VIII. PENILAIAN PEMBELAJARAN

${penilaianPembelajaran || `* **1. Penilaian Sikap**
    * Teknik: Observasi
    * Bentuk Instrumen: Lembar Observasi Sikap
* **2. Penilaian Pengetahuan**
    * Teknik: Tes Tertulis
    * Bentuk Instrumen: Soal Uraian/Pilihan Ganda
* **3. Penilaian Keterampilan**
    * Teknik: Produk/Kinerja
    * Bentuk Instrumen: Rubrik Penilaian Produk/Kinerja`}

---

### IX. REMEDIAL DAN PENGAYAAN

${remedialPengayaan || `* **Remedial:**
    * Bagi peserta didik yang belum mencapai KKM, guru memberikan bimbingan atau tugas tambahan.
* **Pengayaan:**
    * Bagi peserta didik yang sudah mencapai KKM, guru memberikan materi pengayaan atau tugas proyek.`}

---

### X. SUMBER BELAJAR

${sumberBelajar || `* [Buku Teks Pelajaran, contoh: Kementerian Pendidikan dan Kebudayaan. (2017). Buku Siswa [Mata Pelajaran] Kelas [Kelas].]
* [Tautan Internet, contoh: https://www.youtube.com/...]
* [Sumber lain, contoh: Lingkungan sekitar]`}

---

### XI. LAMPIRAN

${lampiran || `* 1.  Materi Ajar
* 2.  Lembar Kerja Peserta Didik (LKPD)
* 3.  Instrumen Penilaian`}

---

### XII. PENGESAHAN

**${kotaTanggal || '[Kota/Kabupaten], [Tanggal]'}**

**Mengetahui,**

**Kepala ${namaSekolah || '[Nama Lengkap Sekolah Anda]'}**

**${namaKepalaSekolah || '[Nama Lengkap Kepala Sekolah Anda], [Gelar]'}**

**NIP. ${nipKepalaSekolah || '[NIP Kepala Sekolah Anda, jika ada]'}**

---

**Guru Mata Pelajaran**

**${namaGuru || '[Nama Lengkap Guru Anda], S.Pd.'}**

**NIP. ${nipGuru || '[NIP Guru Anda, jika ada]'}**

---
            `;
            return rppContent;
        };

        /**
         * Event listener for the "Generate RPP" button.
         * Hides the form and displays the generated RPP.
         */
        generateRppBtn.addEventListener('click', () => {
            const rppMarkdown = generateRppMarkdown();
            generatedRppTextArea.value = rppMarkdown;
            rppOutputSection.classList.remove('hidden'); // Show the output section
            // Scroll to the generated RPP section
            rppOutputSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        });

        /**
         * Event listener for the "Copy RPP" button.
         * Copies the content of the generated RPP textarea to the clipboard.
         */
        copyRppBtn.addEventListener('click', () => {
            generatedRppTextArea.select(); // Select the text in the textarea
            try {
                document.execCommand('copy'); // Execute copy command
                copyRppBtn.textContent = 'Disalin!'; // Change button text to indicate success
                setTimeout(() => {
                    copyRppBtn.textContent = 'Salin RPP'; // Reset button text after 2 seconds
                }, 2000);
            } catch (err) {
                console.error('Gagal menyalin teks: ', err);
                copyRppBtn.textContent = 'Gagal menyalin!'; // Indicate failure
            }
        });

        // Add event listeners to all input fields to update rppData
        inputFields.forEach(input => {
            input.addEventListener('input', handleInputChange);
        });

        // Populate default values when the DOM is fully loaded
        document.addEventListener('DOMContentLoaded', populateDefaultValues);
    </script>
</body>
</html>
